<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Access Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 20px;
      background-color: #f4f4f4;
    }

    form {
      background-color: #fff;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      max-width: 500px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      color: #333;
    }

    label {
      display: block;
      margin-bottom: 5px;
      color: #666;
    }

    input,
    select {
      width: 100%;
      padding: 8px;
      margin-bottom: 15px;
      border: 1px solid #ddd;
      border-radius: 4px;
      box-sizing: border-box;
    }

    button {
      background-color: #4CAF50;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      width: 100%;
    }

    button:hover {
      background-color: #45a049;
    }
  </style>
</head>

<body>
  <form id="accessForm">
    <h1>Access Form</h1>
    <label for="iin">IIN:</label>
    <input type="text" id="iin" name="iin" required>

    <label for="password">Password:</label>
    <input type="text " id="password" name="password" required>

    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required>

    <label for="region">Region:</label>
    <select id="region" name="region" required>
      <option value="">Select Region</option>
    </select>

    <label for="city">City:</label>
    <select id="city" name="city" required>
      <option value="">Select City</option>
    </select>

    <label for="hour">Hour:</label>
    <input type="number" id="hour" name="hour" required min="0" max="23">

    <label for="minute">Minute:</label>
    <input type="number" id="minute" name="minute" required min="0" max="59">

    <label for="second">Second:</label>
    <input type="number" id="second" name="second" required min="0" max="59">

    <div style="display: flex; justify-content: start; align-items: center; height: 30px">
      <input style="display: block; width: 50px; height: 40px" type="checkbox" id="qr_enabled" name="qr_enabled">
      <label style="display: block; width: 50px" for="qr_enabled">QR&nbsp;code?:</label>
    </div>

    <button type="submit" id="submit_button">Submit</button>
  </form>

  <script>
    const regionData = {
      "l": [
        {
          "Name": "Республикалық маңызы бар қалалар",
          "cities": [
            {
              "Id": 1,
              "Type": 1,
              "Name": "Астана қ.",
              "Url": "nursultan",
              "isHide": 0
            },
            {
              "Id": 3,
              "Type": 1,
              "Name": "Шымкент қ.",
              "Url": "shymkent",
              "isHide": 0
            }
          ]
        },
        {
          "Name": "Атырау облысы",
          "cities": [
            {
              "Id": 23,
              "Type": 2,
              "Name": "Атырау қ.",
              "Url": "atyrau",
              "isHide": 0
            },
            {
              "Id": 24,
              "Type": 2,
              "Name": "Құлсары қ.",
              "Url": "kulsary-atyrau",
              "isHide": 0
            },
            {
              "Id": 120,
              "Type": 3,
              "Name": "Жылыой ауданы",
              "Url": "zhylyoi-atyrau",
              "isHide": 0
            },
            {
              "Id": 3882,
              "Type": 3,
              "Name": "Индер ауданы",
              "Url": "inder-atyrau",
              "isHide": 0
            },
            {
              "Id": 37,
              "Type": 3,
              "Name": "Қызылқоға ауданы",
              "Url": "kyzylkoga-atyrau",
              "isHide": 0
            },
            {
              "Id": 38,
              "Type": 3,
              "Name": "Құрманғазы ауданы",
              "Url": "kurmangazy-atyrau",
              "isHide": 0
            },
            {
              "Id": 39,
              "Type": 3,
              "Name": "Мақат ауданы",
              "Url": "makat-atyrau",
              "isHide": 0
            },
            {
              "Id": 40,
              "Type": 3,
              "Name": "Махамбет ауданы",
              "Url": "makhambet-atyrau",
              "isHide": 0
            },
            {
              "Id": 27,
              "Type": 4,
              "Name": "Ақкиізтоғай ауылдық округі",
              "Url": "akkiiztogai-atyrau",
              "isHide": 0
            },
            {
              "Id": 123,
              "Type": 4,
              "Name": "Аққыстау ауылдық округі",
              "Url": "akkistau-atyrau",
              "isHide": 0
            },
            {
              "Id": 3788,
              "Type": 4,
              "Name": "Алмалы ауылдық округі",
              "Url": "almaly-atyrau",
              "isHide": 0
            },
            {
              "Id": 28,
              "Type": 4,
              "Name": "Жаңа Қаратон ауылдық округі",
              "Url": "zhanakaraton-atyrau",
              "isHide": 0
            },
            {
              "Id": 128,
              "Type": 4,
              "Name": "Жанбай ауылдық округі",
              "Url": "zhanbai-atyrau",
              "isHide": 0
            },
            {
              "Id": 25,
              "Type": 4,
              "Name": "Жем ауылдық округі",
              "Url": "zhem-atyrau",
              "isHide": 0
            },
            {
              "Id": 129,
              "Type": 4,
              "Name": "Зинеден ауылдық округі",
              "Url": "zaburun-atyrau",
              "isHide": 0
            },
            {
              "Id": 124,
              "Type": 4,
              "Name": "Исатай ауылдық округі",
              "Url": "isatai-atyrau",
              "isHide": 0
            },
            {
              "Id": 125,
              "Type": 4,
              "Name": "Қамысқала ауылдық округі",
              "Url": "kamyskala-atyrau",
              "isHide": 0
            },
            {
              "Id": 26,
              "Type": 4,
              "Name": "Қараарна ауылдық округі",
              "Url": "karaarnin-atyrau",
              "isHide": 0
            },
            {
              "Id": 29,
              "Type": 4,
              "Name": "Қосшағыл ауылдық округі",
              "Url": "koschagyl-atyrau",
              "isHide": 0
            },
            {
              "Id": 3785,
              "Type": 4,
              "Name": "Майкөмген ауылдық округі",
              "Url": "maikumgen-atyrau",
              "isHide": 0
            },
            {
              "Id": 126,
              "Type": 4,
              "Name": "Нарын ауылдық округі",
              "Url": "naryn-atyrau",
              "isHide": 0
            },
            {
              "Id": 127,
              "Type": 4,
              "Name": "Тұщықұдық ауылдық округі",
              "Url": "tushykudyk-atyrau",
              "isHide": 0
            }
          ]
        },
        {
          "Name": "Жамбыл облысы",
          "cities": [
            {
              "Id": 115,
              "Type": 2,
              "Name": "Тараз қ.",
              "Url": "taraz",
              "isHide": 0
            }
          ]
        },
        {
          "Name": "Батыс Қазақстан облысы",
          "cities": [
            {
              "Id": 61,
              "Type": 3,
              "Name": "Бөкейордасы ауданы",
              "Url": "bokeyorda",
              "isHide": 0
            },
            {
              "Id": 66,
              "Type": 3,
              "Name": "Казталовка ауданы",
              "Url": "kaztal",
              "isHide": 0
            },
            {
              "Id": 65,
              "Type": 3,
              "Name": "Бәйтерек\r\n ауданы",
              "Url": "baiterek",
              "isHide": 0
            }
          ]
        },
        {
          "Name": "Қарағанды облысы",
          "cities": [
            {
              "Id": 72,
              "Type": 2,
              "Name": "Абай қ.",
              "Url": "bilim-otdel",
              "isHide": 0
            },
            {
              "Id": 73,
              "Type": 2,
              "Name": "Балқаш қ.",
              "Url": "balkhash",
              "isHide": 0
            },
            {
              "Id": 76,
              "Type": 2,
              "Name": "Караганды қ.",
              "Url": "kargoo",
              "isHide": 0
            },
            {
              "Id": 77,
              "Type": 2,
              "Name": "Приозерск қ.",
              "Url": "bilim-priozersk",
              "isHide": 0
            },
            {
              "Id": 78,
              "Type": 2,
              "Name": "Саран қ.",
              "Url": "obrazovanie-saran",
              "isHide": 0
            },
            {
              "Id": 80,
              "Type": 2,
              "Name": "Теміртау қ.",
              "Url": "ootemirtau",
              "isHide": 0
            },
            {
              "Id": 81,
              "Type": 2,
              "Name": "Шахтинск қ.",
              "Url": "shahtinsk-edu",
              "isHide": 0
            },
            {
              "Id": 1824,
              "Type": 3,
              "Name": "Абай ауданы",
              "Url": "araion",
              "isHide": 0
            },
            {
              "Id": 3796,
              "Type": 3,
              "Name": "Ақтоғай ауданы",
              "Url": "aktogai",
              "isHide": 0
            },
            {
              "Id": 3790,
              "Type": 3,
              "Name": "Бұқар жырау ауданы",
              "Url": "bukhar-zhirau",
              "isHide": 0
            },
            {
              "Id": 3783,
              "Type": 3,
              "Name": "Қарқаралы ауданы",
              "Url": "karkaraly",
              "isHide": 0
            },
            {
              "Id": 3791,
              "Type": 3,
              "Name": "Нұра ауданы",
              "Url": "nurin",
              "isHide": 0
            },
            {
              "Id": 3793,
              "Type": 3,
              "Name": "Осакаров ауданы",
              "Url": "osakar",
              "isHide": 0
            },
            {
              "Id": 3792,
              "Type": 3,
              "Name": "Шет ауданы",
              "Url": "shetsk",
              "isHide": 0
            }
          ]
        },
        {
          "Name": "Қостанай облысы",
          "cities": [
            {
              "Id": 3880,
              "Type": 1,
              "Name": "Қостанай облысы білім басқармасының ведомстволық бағынысты ұйымдары",
              "Url": "kostanai-bilim",
              "isHide": 0
            },
            {
              "Id": 86,
              "Type": 2,
              "Name": "Арқалық қ.",
              "Url": "arkalyk-kostanay",
              "isHide": 0
            },
            {
              "Id": 82,
              "Type": 2,
              "Name": "Қостанай қ.",
              "Url": "kst-goo",
              "isHide": 0
            },
            {
              "Id": 87,
              "Type": 2,
              "Name": "Лисаков қ.",
              "Url": "lsk-kostanay",
              "isHide": 0
            },
            {
              "Id": 83,
              "Type": 2,
              "Name": "Рудный қ.",
              "Url": "rudoo",
              "isHide": 0
            },
            {
              "Id": 88,
              "Type": 3,
              "Name": "Алтынсарин ауданы",
              "Url": "altynsarin-kostanay",
              "isHide": 0
            },
            {
              "Id": 84,
              "Type": 3,
              "Name": "Амангелді ауданы",
              "Url": "amangeldy-kostanay",
              "isHide": 0
            },
            {
              "Id": 90,
              "Type": 3,
              "Name": "Әулиекөл ауданы",
              "Url": "aulekol-roo",
              "isHide": 0
            },
            {
              "Id": 109,
              "Type": 3,
              "Name": "Денисов ауданы",
              "Url": "denroo",
              "isHide": 0
            },
            {
              "Id": 112,
              "Type": 3,
              "Name": "Жангелдин ауданы",
              "Url": "zhangeldy-kostanay",
              "isHide": 0
            },
            {
              "Id": 3787,
              "Type": 3,
              "Name": "Жітіқара ауданы",
              "Url": "zhitikara-kostanay",
              "isHide": 0
            },
            {
              "Id": 117,
              "Type": 3,
              "Name": "Қамысты ауданы",
              "Url": "kamisti-kostanay",
              "isHide": 0
            },
            {
              "Id": 85,
              "Type": 3,
              "Name": "Қарабалық ауданы",
              "Url": "karabalyk-kostanay",
              "isHide": 0
            },
            {
              "Id": 3879,
              "Type": 3,
              "Name": "Қарасу ауданы",
              "Url": "karasu-kostanay",
              "isHide": 0
            },
            {
              "Id": 111,
              "Type": 3,
              "Name": "Қостанай ауданы",
              "Url": "kostregion-kostanay",
              "isHide": 0
            },
            {
              "Id": 3781,
              "Type": 3,
              "Name": "Мендіқара ауданы",
              "Url": "mendikara-kostanay",
              "isHide": 0
            },
            {
              "Id": 3786,
              "Type": 3,
              "Name": "Наурзум ауданы",
              "Url": "naurzum-kostanay",
              "isHide": 0
            },
            {
              "Id": 89,
              "Type": 3,
              "Name": "Бейімбет Майлин ауданы",
              "Url": "taran-kostanay",
              "isHide": 0
            },
            {
              "Id": 118,
              "Type": 3,
              "Name": "Сарыкөл ауданы",
              "Url": "sarykol-kostanay",
              "isHide": 0
            },
            {
              "Id": 121,
              "Type": 3,
              "Name": "Ұзынкөл ауданы",
              "Url": "uzunkol-kostanay",
              "isHide": 0
            },
            {
              "Id": 110,
              "Type": 3,
              "Name": "Фёдоров ауданы",
              "Url": "fedorovka-kostanay",
              "isHide": 0
            }
          ]
        },
        {
          "Name": "Маңғыстау облысы",
          "cities": [
            {
              "Id": 3860,
              "Type": 2,
              "Name": "Ақтау қ.",
              "Url": "aktau",
              "isHide": 0
            },
            {
              "Id": 3862,
              "Type": 2,
              "Name": "Жаңаөзен қ.",
              "Url": "zhanaozen",
              "isHide": 0
            },
            {
              "Id": 3864,
              "Type": 3,
              "Name": "Бейнеу ауданы",
              "Url": "beyneu",
              "isHide": 0
            },
            {
              "Id": 3863,
              "Type": 3,
              "Name": "Қарақия ауданы",
              "Url": "karakiya",
              "isHide": 0
            },
            {
              "Id": 3861,
              "Type": 3,
              "Name": "Маңғыстау ауданы",
              "Url": "mangystau",
              "isHide": 0
            },
            {
              "Id": 3865,
              "Type": 3,
              "Name": "Мұнайлы ауданы",
              "Url": "munayli",
              "isHide": 0
            },
            {
              "Id": 3866,
              "Type": 3,
              "Name": "Түпқараған ауданы",
              "Url": "tupkaragan",
              "isHide": 0
            }
          ]
        },
        {
          "Name": "Абай облысы",
          "cities": [
            {
              "Id": 41,
              "Type": 2,
              "Name": "Курчатов қ.",
              "Url": "kurchatov",
              "isHide": 0
            },
            {
              "Id": 44,
              "Type": 2,
              "Name": "Семей қ.",
              "Url": "bilim-semey",
              "isHide": 0
            }
          ]
        },
        {
          "Name": "Ұлытау облысы",
          "cities": [
            {
              "Id": 74,
              "Type": 2,
              "Name": "Жезқазған қ.",
              "Url": "jezkazgan",
              "isHide": 0
            },
            {
              "Id": 75,
              "Type": 2,
              "Name": "Қаражал қ.",
              "Url": "karazhal-goo",
              "isHide": 0
            },
            {
              "Id": 79,
              "Type": 2,
              "Name": "Сәтбаев қ.",
              "Url": "satpaev-obr",
              "isHide": 0
            },
            {
              "Id": 3795,
              "Type": 3,
              "Name": "Жаңаарқа ауданы",
              "Url": "zhanaarka",
              "isHide": 0
            },
            {
              "Id": 3794,
              "Type": 3,
              "Name": "Ұлытау ауданы",
              "Url": "ulytau",
              "isHide": 0
            }
          ]
        },
        {
          "Name": "Павлодар облысы",
          "cities": [
            {
              "Id": 116,
              "Type": 2,
              "Name": "Ақсу қ.",
              "Url": "aksu",
              "isHide": 0
            },
            {
              "Id": 113,
              "Type": 2,
              "Name": "Павлодар қ.",
              "Url": "pavlodar",
              "isHide": 0
            },
            {
              "Id": 3806,
              "Type": 2,
              "Name": "Екібастұз қ.",
              "Url": "ekibastuz",
              "isHide": 0
            },
            {
              "Id": 119,
              "Type": 3,
              "Name": "Ақтоғай ауданы",
              "Url": "aktogay-edu",
              "isHide": 0
            },
            {
              "Id": 3797,
              "Type": 3,
              "Name": "Баянауыл ауданы",
              "Url": "bayanaul",
              "isHide": 0
            },
            {
              "Id": 3798,
              "Type": 3,
              "Name": "Железин ауданы",
              "Url": "zhelezinsk",
              "isHide": 0
            },
            {
              "Id": 3801,
              "Type": 3,
              "Name": "Павлодар ауданы",
              "Url": "pavlodar-raion",
              "isHide": 0
            }
          ]
        },
        {
          "Name": "Солтүстік Қазақстан облысы",
          "cities": [
            {
              "Id": 91,
              "Type": 2,
              "Name": "Петропавл қ.",
              "Url": "petropavl",
              "isHide": 0
            },
            {
              "Id": 94,
              "Type": 3,
              "Name": "Аққайың ауданы",
              "Url": "roo-ak",
              "isHide": 0
            },
            {
              "Id": 95,
              "Type": 3,
              "Name": "Есіл ауданы",
              "Url": "roo-esl",
              "isHide": 0
            },
            {
              "Id": 100,
              "Type": 3,
              "Name": "Ғабит Мүсірепов атындағы аудан",
              "Url": "musrepov",
              "isHide": 0
            }
          ]
        }
      ]
    };

    const regionSelect = document.getElementById('region');
    const citySelect = document.getElementById('city');

    // Populate region select
    regionData.l.forEach(region => {
      const option = document.createElement('option');
      option.value = region.Name;
      option.textContent = region.Name;
      regionSelect.appendChild(option);
    });

    // Update city select based on selected region
    regionSelect.addEventListener('change', (event) => {
      const selectedRegion = event.target.value;
      citySelect.innerHTML = '<option value="">Select City</option>';

      const region = regionData.l.find(r => r.Name === selectedRegion);
      if (region) {
        region.cities.forEach(city => {
          const option = document.createElement('option');
          option.value = city.Url;
          option.textContent = city.Name;
          citySelect.appendChild(option);
        });
      }
    });

    // Form submission
    document.getElementById('accessForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const formData = new FormData(this);
      const data = Object.fromEntries(formData.entries());
      if (data.qr_enabled === 'on') {
        data.qr_enabled = true;
      } else {
        data.qr_enabled = false;
      }
      formData.append('qr_enabled', data.qr_enabled);
      console.log("disabling button");
      console.log('Form data:', data);
      // Here you would typically send the data to your server
      fetch('/access', {
        method: 'POST',
        body: formData
      })
        .then(response => response.json())
        .then(data => console.log(data))
        .catch(error => console.error('Error:', error));
    });
  </script>
</body>

</html>